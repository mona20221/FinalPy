{% extends "base.html" %}

{% block title %}Prihlásenie{% endblock %}

{% block content %}
<style>
  .text-darkblue {
    color: #003366;
  }
</style>

<div class="container mt-4 d-flex justify-content-center">
  <div class="card shadow-sm border-0" style="border-left: 5px solid #003366; max-width: 480px; width: 100%;">
    <div class="card-body">
      <h2 class="card-title mb-4 text-darkblue fw-bold">Prihlásenie</h2>

      <form method="post">
        <div class="mb-3">
          <label for="username" class="form-label text-darkblue">Používateľské meno</label>
          <input type="text" class="form-control" id="username" name="username" required />
        </div>

        <div class="mb-3">
          <label for="password" class="form-label text-darkblue">Heslo</label>
          <input type="password" class="form-control" id="password" name="password" required />
        </div>

        <button type="submit" class="btn btn-primary w-100">Prihlásiť sa</button>
      </form>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    {% for category, message in get_flashed_messages(with_categories=true) %}
      {% if category == 'confirm' %}
        if(confirm({{ message|tojson }})) {
          window.location.href = "{{ url_for('register') }}";
        } else {
          window.location.href = "{{ url_for('index') }}";
        }
      {% endif %}
    {% endfor %}
  });
</script>
{% endblock %}
